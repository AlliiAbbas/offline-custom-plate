import{_ as h,r as p,c as i,a as l,e as w,k as I,l as d,f as r,v as u,n as m,t as v,i as x,u as V,o as n}from"./main.CkXzB3fb.js";import{S as U}from"./SyncLoader.DC1_hYBG.js";const Y={class:"compulsory-insurance rounded-3 card my-2",style:{"border-color":"#efefef"},dir:"rtl"},C={class:"card-body p-0"},j={key:0,class:"card-body p-4"},T={class:"row g-4"},S={class:"col-md-6"},D={class:"form-group"},F={key:0,class:"invalid-feedback d-block"},O={class:"col-md-6"},B={class:"form-group"},P={key:0,class:"invalid-feedback d-block"},$={class:"col-md-6"},z={class:"form-group"},E={key:0,class:"invalid-feedback d-block"},L={class:"col-md-6"},M={class:"form-group"},A={key:0,class:"invalid-feedback d-block"},R={class:"col-md-6"},Z={class:"form-group"},q={key:0,class:"invalid-feedback d-block"},G={class:"col-md-6"},H={class:"form-group"},J={key:0,class:"invalid-feedback d-block"},K={class:"col-md-6"},Q={class:"form-group"},W={key:0,class:"invalid-feedback d-block"},X={class:"col-md-6"},ee={class:"form-group"},le={key:0,class:"invalid-feedback d-block"},ae={class:"col-md-6"},se={class:"form-group"},oe={key:0,class:"invalid-feedback d-block"},te={class:"col-md-6"},ie={class:"form-group"},ne={key:0,class:"invalid-feedback d-block"},de={class:"col-md-6"},re={class:"form-group"},ue={key:0,class:"invalid-feedback d-block"},me={class:"col-md-6"},ve={class:"form-group"},ce={key:0,class:"invalid-feedback d-block"},fe={class:"col-md-6"},pe={class:"form-group"},be={key:0,class:"invalid-feedback d-block"},ye={class:"col-md-6"},_e={class:"form-group"},ge={key:0,class:"invalid-feedback d-block"},ke={class:"col-md-6"},Ne={class:"form-group"},he={key:0,class:"invalid-feedback d-block"},we={class:"card-footer bg-white d-flex justify-content-end border-top rounded-bottom py-3 mt-4"},Ie=["disabled"],xe={key:0},Ve={key:1,class:"spinner-border spinner-border-sm",role:"status"},Ue={key:1,class:"d-flex justify-content-center align-items-center py-5"},Ye={__name:"OfflinePlate",setup(Ce){const y=x(),_=V(),c=p(!1),s=p({ownerName:"",nationalId:"",address:"",job:"",brand:"",model:"",manufacturingYear:"",licenseType:"",plateNumber:"",chassisNumber:"",engineNumber:"",cylinders:"",lastInsuranceCompany:"",phoneNumber:"",vehicle_color:""}),a=p({});function f(t){const o=t.target.value.replace(/[^ء-يa-zA-Z\s]/g,"");t.target.value=o,s.ownerName=o}function b(t){const o=t.target.value.replace(/[^0-9]/g,"");t.target.value=o,s.phoneNumber=o}const g=t=>{let e=t.target.value.toUpperCase();e=e.replace(/[^ء-ي0-9\s-]/g,""),e=e.replace(/\s*-\s*/g," - "),s.value.plateNumber=e},k=()=>{a.value={};let t=!0;if(s.value.ownerName.trim()?a.value.ownerName="":(a.value.ownerName="اسم المالك مطلوب",t=!1),s.value.vehicle_color.trim()?/^\d+$/.test(s.value.vehicle_color)&&(a.value.vehicle_color="لون المركبة يجب أن يكون حروف فقط"):(a.value.vehicle_color="لون المركبه مطلوب",t=!1),s.value.nationalId.trim()?a.value.nationalId="":(a.value.nationalId="الرقم القومي / جواز السفر  مطلوب",t=!1),s.value.phoneNumber.trim()?/^(010|011|012|015)\d{8}$/.test(s.value.phoneNumber)||(a.value.phoneNumber="ادخل رقم تليفون صالح",t=!1):(a.value.phoneNumber="رقم التليفون مطلوب",t=!1),s.value.address.trim()||(a.value.address="العنوان مطلوب",t=!1),s.value.job.trim()||(a.value.job="الوظيفة مطلوبة",t=!1),s.value.brand.trim()||(a.value.brand="الماركة مطلوبة",t=!1),s.value.model.trim()||(a.value.model="الطراز مطلوب",t=!1),!s.value.manufacturingYear)a.value.manufacturingYear="سنة الصنع مطلوبة",t=!1;else{const e=parseInt(s.value.manufacturingYear),o=new Date().getFullYear();(e<1900||e>o)&&(a.value.manufacturingYear="سنة الصنع غير صحيحة",t=!1)}return s.value.licenseType.trim()||(a.value.licenseType="نوع الترخيص مطلوب",t=!1),s.value.plateNumber.trim()?a.value.plateNumber="":(a.value.plateNumber="رقم اللوحة مطلوب",t=!1),s.value.chassisNumber.trim()||(a.value.chassisNumber="رقم الشاسيه مطلوب",t=!1),s.value.engineNumber.trim()||(a.value.engineNumber="رقم الموتور مطلوب",t=!1),s.value.cylinders.trim()?/^\d+$/.test(s.value.cylinders)||(a.value.cylinders="السلندرات يجب أن تكون أرقام فقط",t=!1):(a.value.cylinders="السلندرات مطلوبة",t=!1),s.value.lastInsuranceCompany.trim()||(a.value.lastInsuranceCompany="آخر شركة تأمين مطلوبة",t=!1),t},N=async()=>{if(k()){c.value=!0;try{await _.dispatch("Vehicle/setUserData",s.value),y.push("./customs-plate-insurance-offline")}catch(t){console.error("خطأ أثناء التخزين في localStorage:",t)}finally{c.value=!1}}};return(t,e)=>(n(),i("div",Y,[l("div",C,[e[31]||(e[31]=l("header",{class:"card-header bg-white border-bottom rounded-top py-3",style:{"border-color":"#F1F1F1"}},[l("h1",{class:"card-title mb-0 fw-bold fs-4"},"تأمين لوحة جمركيه")],-1)),c.value?(n(),i("div",Ue,e[30]||(e[30]=[l("div",{class:"spinner-border text-danger",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")],-1)]))):(n(),i("section",j,[l("form",{onSubmit:I(N,["prevent"])},[l("div",T,[l("div",S,[l("div",D,[e[15]||(e[15]=l("label",{class:"form-label fw-medium mb-2"},"اسم المالك",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.value.ownerName=o),onInput:f,class:m(["form-control",{"is-invalid":a.value.ownerName}]),placeholder:"اسم المالك"},null,34),[[u,s.value.ownerName]]),a.value.ownerName?(n(),i("div",F,v(a.value.ownerName),1)):r("",!0)])]),l("div",O,[l("div",B,[e[16]||(e[16]=l("label",{class:"form-label fw-medium mb-2"},"الرقم القومي / جواز السفر",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>s.value.nationalId=o),class:m(["form-control",{"is-invalid":a.value.nationalId}]),placeholder:"الرقم القومي /  جواز السفر"},null,2),[[u,s.value.nationalId]]),a.value.nationalId?(n(),i("div",P,v(a.value.nationalId),1)):r("",!0)])]),l("div",$,[l("div",z,[e[17]||(e[17]=l("label",{class:"form-label fw-medium mb-2"},"العنوان",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>s.value.address=o),class:m(["form-control",{"is-invalid":a.value.address}]),placeholder:"العنوان"},null,2),[[u,s.value.address]]),a.value.address?(n(),i("div",E,v(a.value.address),1)):r("",!0)])]),l("div",L,[l("div",M,[e[18]||(e[18]=l("label",{class:"form-label fw-medium mb-2"},"الوظيفه",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>s.value.job=o),class:m(["form-control",{"is-invalid":a.value.job}]),placeholder:"الوظيفه"},null,2),[[u,s.value.job]]),a.value.job?(n(),i("div",A,v(a.value.job),1)):r("",!0)])]),l("div",R,[l("div",Z,[e[19]||(e[19]=l("label",{class:"form-label fw-medium mb-2"},"رقم التليفون",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>s.value.phoneNumber=o),onInput:b,class:m(["form-control",{"is-invalid":a.value.phoneNumber}]),placeholder:"رقم تليفون المالك"},null,34),[[u,s.value.phoneNumber]]),a.value.phoneNumber?(n(),i("div",q,v(a.value.phoneNumber),1)):r("",!0)])]),l("div",G,[l("div",H,[e[20]||(e[20]=l("label",{class:"form-label fw-medium mb-2"},"الماركه",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>s.value.brand=o),class:m(["form-control",{"is-invalid":a.value.brand}]),placeholder:"الماركه"},null,2),[[u,s.value.brand]]),a.value.brand?(n(),i("div",J,v(a.value.brand),1)):r("",!0)])]),l("div",K,[l("div",Q,[e[21]||(e[21]=l("label",{class:"form-label fw-medium mb-2"},"الطراز",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>s.value.model=o),class:m(["form-control",{"is-invalid":a.value.model}]),placeholder:"الطراز"},null,2),[[u,s.value.model]]),a.value.model?(n(),i("div",W,v(a.value.model),1)):r("",!0)])]),l("div",X,[l("div",ee,[e[22]||(e[22]=l("label",{class:"form-label fw-medium mb-2"},"سنه الصنع",-1)),d(l("input",{type:"number",step:"1","onUpdate:modelValue":e[7]||(e[7]=o=>s.value.manufacturingYear=o),class:m(["form-control",{"is-invalid":a.value.manufacturingYear}]),placeholder:"سنه الصنع",min:"1"},null,2),[[u,s.value.manufacturingYear]]),a.value.manufacturingYear?(n(),i("div",le,v(a.value.manufacturingYear),1)):r("",!0)])]),l("div",ae,[l("div",se,[e[23]||(e[23]=l("label",{class:"form-label fw-medium mb-2"},"لون المركبة",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=o=>s.value.vehicle_color=o),class:m(["form-control",{"is-invalid":a.value.vehicle_color}]),placeholder:"ادخل لون المركبة"},null,2),[[u,s.value.vehicle_color]]),a.value.vehicle_color?(n(),i("div",oe,v(a.value.vehicle_color),1)):r("",!0)])]),l("div",te,[l("div",ie,[e[24]||(e[24]=l("label",{class:"form-label fw-medium mb-2"},"نوع الترخيص",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=o=>s.value.licenseType=o),onInput:f,class:m(["form-control",{"is-invalid":a.value.licenseType}]),placeholder:"نوع الترخيص"},null,34),[[u,s.value.licenseType]]),a.value.licenseType?(n(),i("div",ne,v(a.value.licenseType),1)):r("",!0)])]),l("div",de,[l("div",re,[e[25]||(e[25]=l("label",{class:"form-label fw-medium mb-2"},"رقم اللوحة",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=o=>s.value.plateNumber=o),class:m(["form-control",{"is-invalid":a.value.plateNumber}]),placeholder:"مثال: أ ن ع - 9133",onInput:g},null,34),[[u,s.value.plateNumber]]),a.value.plateNumber?(n(),i("div",ue,v(a.value.plateNumber),1)):r("",!0)])]),l("div",me,[l("div",ve,[e[26]||(e[26]=l("label",{class:"form-label fw-medium mb-2"},"رقم الشاسيه",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=o=>s.value.chassisNumber=o),class:m(["form-control",{"is-invalid":a.value.chassisNumber}]),placeholder:"رقم الشاسيه"},null,2),[[u,s.value.chassisNumber]]),a.value.chassisNumber?(n(),i("div",ce,v(a.value.chassisNumber),1)):r("",!0)])]),l("div",fe,[l("div",pe,[e[27]||(e[27]=l("label",{class:"form-label fw-medium mb-2"},"رقم الموتور",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=o=>s.value.engineNumber=o),class:m(["form-control",{"is-invalid":a.value.engineNumber}]),placeholder:"رقم الموتور"},null,2),[[u,s.value.engineNumber]]),a.value.engineNumber?(n(),i("div",be,v(a.value.engineNumber),1)):r("",!0)])]),l("div",ye,[l("div",_e,[e[28]||(e[28]=l("label",{class:"form-label fw-medium mb-2"},"السلندرات",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=o=>s.value.cylinders=o),onInput:b,class:m(["form-control",{"is-invalid":a.value.cylinders}]),placeholder:"السلندرات"},null,34),[[u,s.value.cylinders]]),a.value.cylinders?(n(),i("div",ge,v(a.value.cylinders),1)):r("",!0)])]),l("div",ke,[l("div",Ne,[e[29]||(e[29]=l("label",{class:"form-label fw-medium mb-2"},"اخر شركه تامين",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=o=>s.value.lastInsuranceCompany=o),class:m(["form-control",{"is-invalid":a.value.lastInsuranceCompany}]),placeholder:"آخر شركة تأمين",onInput:f},null,34),[[u,s.value.lastInsuranceCompany]]),a.value.lastInsuranceCompany?(n(),i("div",he,v(a.value.lastInsuranceCompany),1)):r("",!0)])])]),l("footer",we,[l("button",{class:"btn btn-danger rounded-3 py-2 fw-bold",style:{width:"300px"},disabled:c.value,type:"submit"},[c.value?(n(),i("div",Ve)):(n(),i("span",xe,"التالي"))],8,Ie)])],32)]))]),w(U)]))}},Se=h(Ye,[["__scopeId","data-v-e73ea0ef"]]);export{Se as default};
