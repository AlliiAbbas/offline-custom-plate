import{_ as k,r as f,c as d,a as e,i as g,j as n,e as r,v as u,n as m,t as v,u as N,m as w,o as i}from"./main.BXgsBbqy.js";const h={class:"compulsory-insurance rounded-3 card my-2",style:{"border-color":"#efefef"},dir:"rtl"},x={class:"card-body p-0"},I={key:0,class:"card-body p-4"},V={class:"row g-4"},U={class:"col-md-6"},Y={class:"form-group"},j={key:0,class:"invalid-feedback d-block"},C={class:"col-md-6"},T={class:"form-group"},D={key:0,class:"invalid-feedback d-block"},F={class:"col-md-6"},S={class:"form-group"},B={key:0,class:"invalid-feedback d-block"},E={class:"col-md-6"},M={class:"form-group"},O={key:0,class:"invalid-feedback d-block"},P={class:"col-md-6"},$={class:"form-group"},z={key:0,class:"invalid-feedback d-block"},L={class:"col-md-6"},R={class:"form-group"},q={key:0,class:"invalid-feedback d-block"},A={class:"col-md-6"},G={class:"form-group"},H={key:0,class:"invalid-feedback d-block"},J={class:"col-md-6"},K={class:"form-group"},Q={key:0,class:"invalid-feedback d-block"},W={class:"col-md-6"},X={class:"form-group"},Z={key:0,class:"invalid-feedback d-block"},ee={class:"col-md-6"},le={class:"form-group"},ae={key:0,class:"invalid-feedback d-block"},se={class:"col-md-6"},oe={class:"form-group"},te={key:0,class:"invalid-feedback d-block"},de={class:"col-md-6"},ie={class:"form-group"},ne={key:0,class:"invalid-feedback d-block"},re={class:"col-md-6"},ue={class:"form-group"},me={key:0,class:"invalid-feedback d-block"},ve={class:"card-footer bg-white d-flex justify-content-end border-top rounded-bottom py-3 mt-4"},ce=["disabled"],fe={key:0},be={key:1,class:"spinner-border spinner-border-sm",role:"status"},pe={key:1,class:"d-flex justify-content-center align-items-center py-5"},ye={__name:"OfflinePlate",setup(_e){const b=N(),p=w(),c=f(!1),s=f({ownerName:"",nationalId:"",address:"",job:"",brand:"",model:"",manufacturingYear:"",licenseType:"",plateNumber:"",chassisNumber:"",engineNumber:"",cylinders:"",lastInsuranceCompany:""}),a=f({}),y=()=>{a.value={};let t=!0;if(s.value.ownerName.trim()||(a.value.ownerName="اسم المالك مطلوب",t=!1),s.value.nationalId.trim()?/^\d{14}$/.test(s.value.nationalId)||(a.value.nationalId="الرقم القومي يجب أن يكون 14 رقم",t=!1):(a.value.nationalId="الرقم القومي مطلوب",t=!1),s.value.address.trim()||(a.value.address="العنوان مطلوب",t=!1),s.value.job.trim()||(a.value.job="الوظيفة مطلوبة",t=!1),s.value.brand.trim()||(a.value.brand="الماركة مطلوبة",t=!1),s.value.model.trim()||(a.value.model="الطراز مطلوب",t=!1),!s.value.manufacturingYear)a.value.manufacturingYear="سنة الصنع مطلوبة",t=!1;else{const l=parseInt(s.value.manufacturingYear),o=new Date().getFullYear();(l<1900||l>o)&&(a.value.manufacturingYear="سنة الصنع غير صحيحة",t=!1)}return s.value.licenseType.trim()||(a.value.licenseType="نوع الترخيص مطلوب",t=!1),s.value.plateNumber.trim()||(a.value.plateNumber="رقم اللوحة مطلوب",t=!1),s.value.chassisNumber.trim()||(a.value.chassisNumber="رقم الشاسيه مطلوب",t=!1),s.value.engineNumber.trim()||(a.value.engineNumber="رقم الموتور مطلوب",t=!1),s.value.cylinders.trim()?/^\d+$/.test(s.value.cylinders)||(a.value.cylinders="السلندرات يجب أن تكون أرقام فقط",t=!1):(a.value.cylinders="السلندرات مطلوبة",t=!1),s.value.lastInsuranceCompany.trim()||(a.value.lastInsuranceCompany="آخر شركة تأمين مطلوبة",t=!1),t},_=async()=>{if(y()){c.value=!0;try{await p.dispatch("Vehicle/setUserData",s.value),b.push("./customs-plate-insurance-offline")}catch(t){console.error("خطأ أثناء التخزين في localStorage:",t)}finally{c.value=!1}}};return(t,l)=>(i(),d("div",h,[e("div",x,[l[27]||(l[27]=e("header",{class:"card-header bg-white border-bottom rounded-top py-3",style:{"border-color":"#F1F1F1"}},[e("h1",{class:"card-title mb-0 fw-bold fs-4"},"تأمين لوحة جمركيه")],-1)),c.value?(i(),d("div",pe,l[26]||(l[26]=[e("div",{class:"spinner-border text-danger",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):(i(),d("section",I,[e("form",{onSubmit:g(_,["prevent"])},[e("div",V,[e("div",U,[e("div",Y,[l[13]||(l[13]=e("label",{class:"form-label fw-medium mb-2"},"اسم المالك",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=o=>s.value.ownerName=o),class:m(["form-control",{"is-invalid":a.value.ownerName}]),placeholder:"اسم المالك"},null,2),[[u,s.value.ownerName]]),a.value.ownerName?(i(),d("div",j,v(a.value.ownerName),1)):r("",!0)])]),e("div",C,[e("div",T,[l[14]||(l[14]=e("label",{class:"form-label fw-medium mb-2"},"الرقم القومي",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=o=>s.value.nationalId=o),class:m(["form-control",{"is-invalid":a.value.nationalId}]),placeholder:"الرقم القومي",maxlength:"14"},null,2),[[u,s.value.nationalId]]),a.value.nationalId?(i(),d("div",D,v(a.value.nationalId),1)):r("",!0)])]),e("div",F,[e("div",S,[l[15]||(l[15]=e("label",{class:"form-label fw-medium mb-2"},"العنوان",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=o=>s.value.address=o),class:m(["form-control",{"is-invalid":a.value.address}]),placeholder:"العنوان"},null,2),[[u,s.value.address]]),a.value.address?(i(),d("div",B,v(a.value.address),1)):r("",!0)])]),e("div",E,[e("div",M,[l[16]||(l[16]=e("label",{class:"form-label fw-medium mb-2"},"الوظيفه",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=o=>s.value.job=o),class:m(["form-control",{"is-invalid":a.value.job}]),placeholder:"الوظيفه"},null,2),[[u,s.value.job]]),a.value.job?(i(),d("div",O,v(a.value.job),1)):r("",!0)])]),e("div",P,[e("div",$,[l[17]||(l[17]=e("label",{class:"form-label fw-medium mb-2"},"الماركه",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=o=>s.value.brand=o),class:m(["form-control",{"is-invalid":a.value.brand}]),placeholder:"الماركه"},null,2),[[u,s.value.brand]]),a.value.brand?(i(),d("div",z,v(a.value.brand),1)):r("",!0)])]),e("div",L,[e("div",R,[l[18]||(l[18]=e("label",{class:"form-label fw-medium mb-2"},"الطراز",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=o=>s.value.model=o),class:m(["form-control",{"is-invalid":a.value.model}]),placeholder:"الطراز"},null,2),[[u,s.value.model]]),a.value.model?(i(),d("div",q,v(a.value.model),1)):r("",!0)])]),e("div",A,[e("div",G,[l[19]||(l[19]=e("label",{class:"form-label fw-medium mb-2"},"سنه الصنع",-1)),n(e("input",{type:"number",step:"1","onUpdate:modelValue":l[6]||(l[6]=o=>s.value.manufacturingYear=o),class:m(["form-control",{"is-invalid":a.value.manufacturingYear}]),placeholder:"سنه الصنع",min:"1"},null,2),[[u,s.value.manufacturingYear]]),a.value.manufacturingYear?(i(),d("div",H,v(a.value.manufacturingYear),1)):r("",!0)])]),e("div",J,[e("div",K,[l[20]||(l[20]=e("label",{class:"form-label fw-medium mb-2"},"نوع الترخيص",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[7]||(l[7]=o=>s.value.licenseType=o),class:m(["form-control",{"is-invalid":a.value.licenseType}]),placeholder:"نوع الترخيص"},null,2),[[u,s.value.licenseType]]),a.value.licenseType?(i(),d("div",Q,v(a.value.licenseType),1)):r("",!0)])]),e("div",W,[e("div",X,[l[21]||(l[21]=e("label",{class:"form-label fw-medium mb-2"},"رقم اللوحه",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[8]||(l[8]=o=>s.value.plateNumber=o),class:m(["form-control",{"is-invalid":a.value.plateNumber}]),placeholder:"رقم اللوحه"},null,2),[[u,s.value.plateNumber]]),a.value.plateNumber?(i(),d("div",Z,v(a.value.plateNumber),1)):r("",!0)])]),e("div",ee,[e("div",le,[l[22]||(l[22]=e("label",{class:"form-label fw-medium mb-2"},"رقم الشاسيه",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[9]||(l[9]=o=>s.value.chassisNumber=o),class:m(["form-control",{"is-invalid":a.value.chassisNumber}]),placeholder:"رقم الشاسيه"},null,2),[[u,s.value.chassisNumber]]),a.value.chassisNumber?(i(),d("div",ae,v(a.value.chassisNumber),1)):r("",!0)])]),e("div",se,[e("div",oe,[l[23]||(l[23]=e("label",{class:"form-label fw-medium mb-2"},"رقم الموتور",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[10]||(l[10]=o=>s.value.engineNumber=o),class:m(["form-control",{"is-invalid":a.value.engineNumber}]),placeholder:"رقم الموتور"},null,2),[[u,s.value.engineNumber]]),a.value.engineNumber?(i(),d("div",te,v(a.value.engineNumber),1)):r("",!0)])]),e("div",de,[e("div",ie,[l[24]||(l[24]=e("label",{class:"form-label fw-medium mb-2"},"السلندرات",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[11]||(l[11]=o=>s.value.cylinders=o),class:m(["form-control",{"is-invalid":a.value.cylinders}]),placeholder:"السلندرات"},null,2),[[u,s.value.cylinders]]),a.value.cylinders?(i(),d("div",ne,v(a.value.cylinders),1)):r("",!0)])]),e("div",re,[e("div",ue,[l[25]||(l[25]=e("label",{class:"form-label fw-medium mb-2"},"اخر شركه تامين",-1)),n(e("input",{type:"text","onUpdate:modelValue":l[12]||(l[12]=o=>s.value.lastInsuranceCompany=o),class:m(["form-control",{"is-invalid":a.value.lastInsuranceCompany}]),placeholder:"آخر شركة تأمين"},null,2),[[u,s.value.lastInsuranceCompany]]),a.value.lastInsuranceCompany?(i(),d("div",me,v(a.value.lastInsuranceCompany),1)):r("",!0)])])]),e("footer",ve,[e("button",{class:"btn btn-danger rounded-3 py-2 fw-bold",style:{width:"300px"},disabled:c.value,type:"submit"},[c.value?(i(),d("div",be)):(i(),d("span",fe,"التالي"))],8,ce)])],32)]))])]))}},ge=k(ye,[["__scopeId","data-v-6cfcd0d8"]]);export{ge as default};
